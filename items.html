<!DOCTYPE html>
<html>
<head>
  <title>Manage Items</title>
  <style>
    /* Import Google Font */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

    /* General Styles */
    body {
        font-family: 'Poppins', sans-serif;
        background: #f4f4f4;
        color: #333;
        margin: 0;
        padding: 0;
        text-align: center;
    }

    /* Container Styling */
    .container {
        max-width: 700px;
        margin: auto;
        background: #fff;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        margin-top: 40px;
    }

    /* Heading */
    h1 {
        color: #222;
        font-weight: 600;
    }

    /* Form Styling */
    form {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 12px;
    }

    label {
        font-weight: 500;
    }

    input {
        width: 90%;
        padding: 10px;
        border: 2px solid #ccc;
        border-radius: 6px;
        font-size: 16px;
        transition: 0.3s ease;
    }

    input:focus {
        border-color: #FFD700;
        outline: none;
    }

    /* Buttons */
    .btn {
        display: inline-block;
        padding: 8px 12px;
        font-size: 14px;
        font-weight: 500;
        text-decoration: none;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        transition: 0.3s;
    }

    .btn-primary {
        background: linear-gradient(45deg, #FFD700, #FFA500);
        color: #fff;
        box-shadow: 0 4px 10px rgba(255, 165, 0, 0.5);
    }

    .btn-primary:hover {
        background: linear-gradient(45deg, #FFA500, #FFD700);
        transform: translateY(-2px);
    }

    .btn-secondary {
        background: #444;
        color: #fff;
    }

    .btn-secondary:hover {
        background: #222;
    }

    /* Table Styles */
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    th, td {
        border: 1px solid #ddd;
        padding: 10px;
        text-align: center;
    }

    th {
        background: #FFD700;
        color: #fff;
    }

    .action-buttons {
        display: flex;
        justify-content: center;
        gap: 5px;
    }

    .action-buttons button {
        padding: 5px 8px;
        font-size: 14px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .container {
            width: 90%;
            padding: 15px;
        }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <h1>Manage Items</h1>

    <form id="itemForm">
      <label for="itemName">Item Name:</label>
      <input type="text" id="itemName" required>

      <label for="itemPrice">Price:</label>
      <input type="number" id="itemPrice" min="0" step="0.01" required>

      <label for="itemStock">Initial Stock:</label>
      <input type="number" id="itemStock" min="0" required>

      <button type="submit" class="btn btn-primary">Add Item</button>
    </form>

    <h2>Item List</h2>

    <table>
      <thead>
        <tr>
          <th>Item Name</th>
          <th>Price ($)</th>
          <th>Stock</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="itemList">
        <!-- Items will be inserted here dynamically -->
      </tbody>
    </table>

    <a href="index.html" class="btn btn-secondary mt-2">Back to Main</a>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const itemForm = document.getElementById('itemForm');
      const itemList = document.getElementById('itemList');

      let items = JSON.parse(localStorage.getItem('items')) || [];

      renderItems();

      itemForm.addEventListener('submit', (event) => {
        event.preventDefault();

        const itemName = document.getElementById('itemName').value;
        const itemPrice = parseFloat(document.getElementById('itemPrice').value);
        const itemStock = parseInt(document.getElementById('itemStock').value);

        if (!itemName || isNaN(itemPrice) || isNaN(itemStock)) {
          alert('Please enter valid item details.');
          return;
        }

        const newItem = {
          id: Date.now(),
          name: itemName,
          price: itemPrice,
          stock: itemStock
        };

        items.push(newItem);
        localStorage.setItem('items', JSON.stringify(items));
        renderItems();

        itemForm.reset();
      });

      function renderItems() {
        itemList.innerHTML = ''; 
        items.forEach(item => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>${item.name}</td>
            <td>$${item.price.toFixed(2)}</td>
            <td>${item.stock}</td>
            <td class="action-buttons">
              <button class="btn btn-sm btn-success increment-stock" data-item-id="${item.id}">
                <i class="fas fa-plus"></i>
              </button>
              <button class="btn btn-sm btn-danger decrement-stock" data-item-id="${item.id}">
                <i class="fas fa-minus"></i>
              </button>
              <button class="btn btn-sm btn-outline-danger delete-item" data-item-id="${item.id}">
                <i class="fas fa-trash"></i>
              </button>
            </td>
          `;
          itemList.appendChild(tr);
        });

        document.querySelectorAll('.increment-stock').forEach(button => {
          button.addEventListener('click', incrementStock);
        });

        document.querySelectorAll('.decrement-stock').forEach(button => {
          button.addEventListener('click', decrementStock);
        });

        document.querySelectorAll('.delete-item').forEach(button => {
          button.addEventListener('click', deleteItem);
        });
      }

      function incrementStock(event) {
        const itemId = parseInt(event.target.closest("button").dataset.itemId);
        updateStock(itemId, 1);
      }

      function decrementStock(event) {
        const itemId = parseInt(event.target.closest("button").dataset.itemId);
        updateStock(itemId, -1);
      }

      function deleteItem(event) {
        const itemId = parseInt(event.target.closest("button").dataset.itemId);
        if (confirm('Are you sure you want to delete this item?')) {
          removeItem(itemId);
        }
      }

      function updateStock(itemId, change) {
        const itemIndex = items.findIndex(item => item.id === itemId);
        if (itemIndex !== -1) {
          items[itemIndex].stock += change;
          localStorage.setItem('items', JSON.stringify(items));
          renderItems();
        }
      }

      function removeItem(itemId) {
        items = items.filter(item => item.id !== itemId);
        localStorage.setItem('items', JSON.stringify(items));
        renderItems();
      }
    });
  </script>
</body>
</html>
